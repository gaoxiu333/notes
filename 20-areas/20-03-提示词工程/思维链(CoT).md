---
title: 思维链(CoT)
created: 2025-05-09 10:10
updated: 2025-05-09 10:10
type: note
status: active
schema: v1
tags: [主题/ai, 主题/提示词工程, 概念/思维链]
---

# 思维链(Chain of Thought)提示技术

## 📝 概述

思维链(Chain of Thought, CoT)是一种提示词工程技术，通过引导大语言模型逐步展示其推理过程来解决复杂问题。该技术要求模型在给出最终答案前，先展示其思考的中间步骤，从而提高复杂任务的准确性和可解释性。

## 🧠 核心原理

思维链提示的核心原理是利用语言模型对上下文的理解能力，通过提示模型"一步步思考"，引导其分解复杂问题并按顺序解决。思维链使模型能够：

1. **将复杂问题分解为可管理的步骤**
2. **在每一步记录中间推理结果**
3. **基于前面步骤的结果进行后续推理**
4. **整合所有中间结果得出最终答案**

通过这种方式，模型不仅能生成更准确的答案，还能提供推理路径，使结果更可靠且可解释。

## 🔍 关键变体

### 1. 零样本思维链 (Zero-shot CoT)

通过简单地添加"让我们一步步思考"等提示，诱导模型生成推理步骤，不需要任何示例。

**示例**：
```
问题：如果Jane有3个苹果，然后她买了5个苹果，之后她送给朋友2个苹果，她现在有多少个苹果？

让我们一步步思考。
```

### 2. 少样本思维链 (Few-shot CoT)

提供几个包含问题、推理步骤和答案的完整示例，然后提出新问题。

**示例**：
```
问题：Tom有5个玩具，他失去了2个，然后他的妈妈给了他4个新玩具。他现在有多少个玩具？
思考：Tom开始时有5个玩具。然后他失去了2个，所以他现在有5-2=3个玩具。之后他的妈妈给了他4个新玩具，所以现在他有3+4=7个玩具。
答案：7个玩具

问题：如果Jane有3个苹果，然后她买了5个苹果，之后她送给朋友2个苹果，她现在有多少个苹果？
思考：
```

### 3. 自生成思维链 (Self-generated CoT)

首先要求模型生成推理步骤，然后再要求它基于这些步骤给出答案。

**示例**：
```
问题：一家商店一箱饮料有24瓶。如果他们已经卖出了127瓶，还剩多少整箱饮料？

首先，生成解决这个问题的推理步骤。
```

然后在模型回答后：

```
基于上述推理，给出最终答案。
```

### 4. 验证增强思维链 (Verification-enhanced CoT)

模型不仅生成推理步骤，还对每一步进行自我验证和修正。

**示例**：
```
问题：145除以5等于多少？

让我们一步步思考，并在每一步检查计算是否正确。
```

## 📊 性能与适用场景

思维链技术在以下场景特别有效：

1. **数学问题和逻辑推理**：提高了复杂计算和推理任务的准确率
2. **多步骤决策**：在需要依次处理多个考虑因素的任务中表现优异
3. **符号推理**：在处理符号、变量和抽象概念时有显著改进
4. **常识推理**：在需要应用常识知识解决问题时有所帮助

研究表明，思维链可以将大语言模型在算术、符号推理和常识推理任务上的性能提高20-40%。

## ⚙️ 实践指南

### 提示词模板

```
[问题描述]

让我们一步步思考这个问题:
1. 首先，我们需要理解...
2. 接下来，让我们计算/考虑...
3. 然后，我们可以...
4. 最后，我们得出结论...

因此，答案是...
```

### 最佳实践

1. **明确指示逐步思考**：使用"一步步思考"、"分解问题"等引导语
2. **鼓励完整推理**：确保模型生成所有必要的推理步骤
3. **要求中间结果**：让模型在每一步后都显示计算或推理结果
4. **平衡详细度**：太简略的步骤可能跳过关键推理，太冗长的步骤可能引入错误
5. **考虑多种方法**：对于复杂问题，可以要求模型探索不同的解题方法
6. **数学问题使用结构化格式**：对于计算问题，鼓励使用清晰的计算格式

## 🔬 研究与发展

思维链技术最早由Google Research团队在2022年的论文"Chain-of-Thought Prompting Elicits Reasoning in Large Language Models"中正式提出。后续研究扩展了思维链方法，包括：

- **思维树(Tree of Thoughts)**：探索多条思维路径而非单一序列
- **验证增强CoT**：加入自我验证机制提高准确性
- **多智能体CoT**：多个智能体协作生成和验证推理链

最新研究表明，结合思维链与其他技术（如自我一致性检查、反思与修正循环）可以进一步提高模型在复杂推理任务上的表现。

## 🔗 相关概念

- [[少样本学习]] - 通过有限示例引导模型学习
- [[思维树(ToT)]] - 思维链的拓展，允许探索多条推理路径
- [[Self-Consistency]] - 生成多条思维链并选择一致性最高的答案
- [[ReAct模式]] - 结合推理与行动的交互式提示模式

## 📚 参考资料

- [Chain-of-Thought Prompting Elicits Reasoning in Large Language Models](https://arxiv.org/abs/2201.11903)
- [Large Language Models are Zero-Shot Reasoners](https://arxiv.org/abs/2205.11916)
- [Self-Consistency Improves Chain of Thought Reasoning in Language Models](https://arxiv.org/abs/2203.11171)
- [Tree of Thoughts: Deliberate Problem Solving with Large Language Models](https://arxiv.org/abs/2305.10601)

## 📝 实践示例

### 数学问题示例

**标准提示**：
```
计算：(17 × 6) + (18 × 2)
```

**思维链提示**：
```
计算：(17 × 6) + (18 × 2)

让我们一步步计算：
1. 先计算17 × 6
2. 再计算18 × 2
3. 最后将两个结果相加
```

### 逻辑推理示例

**标准提示**：
```
小明比小红年龄大，小红比小李年龄大。以下哪个说法一定正确？
A. 小明比小李年龄大
B. 小李比小明年龄大
C. 小明和小李同龄
D. 无法确定
```

**思维链提示**：
```
小明比小红年龄大，小红比小李年龄大。以下哪个说法一定正确？
A. 小明比小李年龄大
B. 小李比小明年龄大
C. 小明和小李同龄
D. 无法确定

让我逐步分析：
1. 小明比小红年龄大，意味着小明的年龄 > 小红的年龄
2. 小红比小李年龄大，意味着小红的年龄 > 小李的年龄
3. 根据传递性，如果小明 > 小红且小红 > 小李，那么小明 > 小李
4. 因此，小明比小李年龄大

所以正确答案是选项A：小明比小李年龄大
```

## 🏷️ 修改历史

- 2025-05-09 - 创建初始版本 