---
title: 提示词基础与核心技术
jd_id: J20-20250115-1430
created: 2025-01-15 14:30
updated: 2025-01-15 14:30
type: note
status: active
tags: [topic/ai/prompt-engineering, topic/concept]
---

# 提示词基础与核心技术

## 提示词工程概述

**提示词工程**（Prompt Engineering）是设计、优化与测试输入提示的系统方法，目的是引导AI语言模型生成满足特定需求的高质量输出。

**核心功能**：
- 引导模型关注问题关键方面
- 提供背景、约束和期望
- 触发模型内部知识与推理能力
- 减少生成歧义、错误和幻觉

## 提示词基础组成

高效提示词通常包含以下要素：

| 组成部分 | 功能 | 示例 |
|---------|-----|------|
| **任务指令** | 明确告知AI需要完成什么 | "翻译以下文本" |
| **上下文** | 提供必要背景信息 | "你是金融领域专家" |
| **输入数据** | 需要处理的具体内容 | "分析这段代码..." |
| **输出格式** | 期望的回答形式 | "以JSON格式返回" |
| **示例** | 展示预期输入-输出关系 | "输入X，期望输出Y" |
| **约束条件** | 明确生成的限制 | "不超过100字" |

## 提示词设计原则

- **明确性** - 避免模糊语言，使用精确指令
- **具体性** - 提供足够细节和约束
- **结构化** - 合理使用段落、编号和格式
- **示例化** - 提供例子说明期望输出
- **迭代优化** - 根据结果不断调整提示词

## 核心提示技术

### 零样本提示（Zero-shot）
无需示例，直接询问问题。适用于简单明确的任务。
```
问题：[问题描述]
```

### 少样本提示（Few-shot）
提供2-5个示例，展示期望的输入-输出对。
```
输入：[示例输入1]
输出：[示例输出1]

输入：[示例输入2]
输出：[示例输出2]

输入：[实际输入]
输出：
```

## 思维链技术（Chain of Thought, CoT）

**核心概念**：引导模型显示推理过程，通过逐步分解复杂问题，提高推理能力和正确率。

**基本格式**：
```
问题: [复杂问题描述]
让我们一步一步思考:
1. [第一步骤分析]
2. [第二步骤分析]
...
n. [最终结论]
```

### CoT技术变体

| 技术变体 | 描述 | 适用场景 |
|---------|------|---------|
| **零样本CoT** | 直接添加"让我们一步一步思考"提示 | 通用推理任务 |
| **少样本CoT** | 提供几个带推理步骤的例子 | 复杂或特定领域任务 |
| **自洽性CoT** | 生成多条推理路径并选择一致解 | 高不确定性问题 |

### 适用场景
- 数学问题：计算、方程、几何证明
- 逻辑推理：演绎、归纳、因果分析
- 多步决策：计划制定、算法设计
- 文本分析：复杂文本理解与推断

## 思维树技术（Tree of Thought, ToT）

**核心概念**：思维链的高级扩展，通过探索多条并行推理路径解决复杂问题。

**技术原理**：
- 生成多个可能的思考路径
- 评估每条路径的潜在价值
- 根据评估选择最有前景的路径深入探索
- 必要时回溯并尝试替代路径

### CoT与ToT对比

| 特性 | 思维链(CoT) | 思维树(ToT) |
|------|------------|------------|
| 推理路径 | 单一线性路径 | 多条分支路径 |
| 决策点 | 确定性前进 | 探索多个选择 |
| 回溯能力 | 有限或无 | 内置回溯机制 |
| 适用场景 | 明确推理问题 | 需探索多方案问题 |

### 基础实现模板

```
问题: [复杂问题描述]
让我们构建一个思维树来解决这个问题:

[生成多个起始思考方向]
- 思路1: ...
- 思路2: ...
- 思路3: ...

[评估各思路可行性]
[选择最有前景的思路并展开]
[必要时回溯并尝试其他路径]
[整合发现并得出最终结论]
```

### 适用场景
- 创造性问题：需要探索多种可能性的创意生成
- 规划问题：多步骤、多路径的策略规划
- 复杂决策：权衡多因素的决策制定
- 游戏与谜题：如国际象棋、数独等策略游戏

## 最佳实践

### CoT最佳实践
- 明确定义问题，提供完整、精确的问题陈述
- 鼓励步骤分解，明确要求列出中间步骤
- 示例中展示多样性，包含不同难度和类型的示例
- 结构化输出，使用编号列表提高清晰度

### ToT最佳实践
- 明确评估标准，定义路径评估的明确标准
- 控制树宽度，每步限制2-4个分支避免爆炸
- 平衡探索与深入，适当在广度和深度间切换
- 设定探索限制，防止无限回溯，设定深度限制

## 常见问题解决

| 问题 | 解决方案 |
|-----|---------|
| 推理步骤跳跃 | 明确指示"详细解释每一步" |
| 步骤逻辑错误 | 增加自我验证提示 |
| 结论不一致 | 实施自洽性检查 |
| 过度简化 | 要求考虑边缘情况和例外 |
| 探索过度发散 | 设定明确的评估标准和停止条件 | 