# TODO：记录核心知识点

这里记录一些 react 源码的核心知识点，但不会解释

仅仅是为了**查漏补缺**

开始。。。

react 源码核心包：react、react-dom、scheduler、react-reconciler

- 渲染模式
- DOM 层级管理
- 事件系统
- Portal机制 → 高级渲染
- Hydration
- 手动优化多次状态更新
- fiber 架构

react 内部**调度机制**

- 任务调度
- 优化性能
- 解决渲染相关问题
- 任务调度
- 时间切片
- 异步渲染
- 并发模式的基础
- 暂停恢复工作
- 高优先级出
    - 高优先级
    - 时间切片
    - 任务队列管理
    - 任务中断与恢复
    - 帧率控制
    - fiber架构的并发模式结合
- 回调队列
- 宿主配置
- 性能检测
    - 问题
    - 调试卡顿问题
    - 避免丢帧

**重点**

- 任务优先级
- 时间切片
- 任务队列
- 帧率控制
- 协作式调度

react-reconciler

- 创建 fiber 树
- 调度更新
- 处理副作用
- 创建容器
- 更新组件
- 处理上下文
- fiber
    - 创建
    - diff算法
    - 副作用收集
- 首次渲染vs更新
- 批处理
- 错误处理机制
- 双缓存技术
- 任务的分片和恢复
- lane 模型

fiber 结构

- fiber 节点
- 双缓存机制
- lane 模型
- 协调过程
    - 递阶段
    - 归阶段
- 副作用
    - 副作用标签
    - 副作用链表
- 优先级与调度
    - lane 优先级
    - 调度器协作