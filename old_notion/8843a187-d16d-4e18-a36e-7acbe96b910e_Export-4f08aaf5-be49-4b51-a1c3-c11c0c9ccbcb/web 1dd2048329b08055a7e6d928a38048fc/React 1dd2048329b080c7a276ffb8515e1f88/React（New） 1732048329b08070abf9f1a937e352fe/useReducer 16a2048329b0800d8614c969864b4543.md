# useReducer

## 定义

1. 定义 reducer 函数
    - `state` 当前状态
    - `action` 描述如何更新状态的对象
    - 根据 `action.type` 返回新的状态
2. 初始化状态
    - userReducer 第二个参数是初始状态
3. 何时使用？
    - 复杂状态逻辑：当状态**涉及多个值**或有**复杂的更新逻辑**时
    - 更清晰的状态管理：用 useReducer 替代 useState，更易维护和调试。

## 例子：

```tsx
import React, { useReducer } from 'react';

// 1. 定义 reducer 函数
const reducer = (state, action) => {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 };
    case 'decrement':
      return { count: state.count - 1 };
    case 'reset':
      return { count: 0 };
    default:
      throw new Error(`Unhandled action type: ${action.type}`);
  }
};

function Counter() {
  // 2. 使用 useReducer
  const [state, dispatch] = useReducer(reducer, { count: 0 });

  return (
    <div>
      <p>当前计数：{state.count}</p>
      <button onClick={() => dispatch({ type: 'increment' })}>增加</button>
      <button onClick={() => dispatch({ type: 'decrement' })}>减少</button>
      <button onClick={() => dispatch({ type: 'reset' })}>重置</button>
    </div>
  );
}

export default Counter;
```