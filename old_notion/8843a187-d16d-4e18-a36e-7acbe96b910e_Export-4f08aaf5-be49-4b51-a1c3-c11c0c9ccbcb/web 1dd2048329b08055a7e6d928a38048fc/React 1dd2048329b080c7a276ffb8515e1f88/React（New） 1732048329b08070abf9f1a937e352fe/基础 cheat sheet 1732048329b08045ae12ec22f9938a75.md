# 基础 cheat sheet

## Hook

Hook 是 React 16.8 引入的，用于简化函数组件内状态管理、上下文共享和副作用处理，显著提升组件复用性与代码可读性。

**状态/上下文 Hook**

1. `useState` 定义和管理组件等状态
2. `useReducer`  适用于更复杂的状态逻辑
3. `useContext`  获取最近的 React Context 值，方便跨组件共享状态

**Ref Hook**

1. `useRef` 创建可变的 ref 对象，访问 DOM 节点
2. `useImperativeHandle`

**副作用 Hook**

1. `useEffect` 处理副作用（获取数据、订阅、DOM操作）
2. `useLayoutEffect`  在 DOM 更新后立即执行副作用

**性能优化 Hook**

1. `useMemo` 缓存计算结果，优化性能，避免不必要的重复计算
2. `useCallback` 缓存回调函数引用，避免因函数变化导致子组件不必要的渲染

他们两个都可以避免不必要的重新渲染。

**其他 Hook**

1. `useTransition` 标记低优先级更新，提升用户交互体验
2. `useDeferredValue` 延迟更新状态，避免高频操作影响性能
3. `useId` 生成稳定的唯一 ID，常用于表单或无障碍属性
4. `useSyncExternalStore` 外部状态源同步，支持服务端渲染数据一致性

**自定义 Hook**

将复杂逻辑提取为自定义 Hook，促进代码复用和逻辑分离

## 组件

React 提供了一些特殊组件，解决特定开发需求

1. `<Fragment>` 容器组件，避免额外的 DOM 包装
2. `<Profiler>` 分析渲染性能，识别性能瓶颈
3. `<StrictMode>` 开发环境下发现潜在问题
4. `<Suspense>` 提供异步操作占位符和加载状改，通常与数据获取库或者 React.lazy 配合使用

## API

React 的内置 API 提供直接控制组件行为和性能的工具。

1. `lazy` 动态加载组件，优化初始加载性能，配合 `Suspense`
2. `memo` 缓存组件渲染结果，仅 `props` 变化时重新渲染，提升性能
3. `startTransition` 标记低优先级更新。避免与高优先级用户交互竞争资源
4. `use` 在组件中直接等待异步数据（19）
5. `createPortal` 将组件渲染到 DOM 树外的指定节点，常用于模态框等场景
6. `flushSync` 强制同步更新 DOM，确保操作与视图一致性