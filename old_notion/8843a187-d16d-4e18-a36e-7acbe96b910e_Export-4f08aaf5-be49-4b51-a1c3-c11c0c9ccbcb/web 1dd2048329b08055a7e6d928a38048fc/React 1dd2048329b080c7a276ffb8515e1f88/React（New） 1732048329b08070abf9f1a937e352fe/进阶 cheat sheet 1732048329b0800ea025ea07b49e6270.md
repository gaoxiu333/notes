# 进阶 cheat sheet

## **函数组件与 Hooks**

**状态管理**

- `useState` 管理状态
- `useReducer` 复杂状态逻辑的替代方案

**副作用**

- `useEffect`：处理副作用，如数据获取、订阅等。
- `useLayoutEffect`：与 DOM 渲染同步执行，适用于需要测量布局的场景。

**性能优化**

- `useMemo` 缓存计算结果以减少不必要的重复计算。
- `useCallback` 缓存函数引用，防止子组件因引用变化而重新渲染

**引用和实例**

- `useRef` DOM 操作和存储引用
- `useImperativeHandle` 自定义组件实例

**其他 Hooks**

- `useContext` 使用全局上下文
- `useId` 生成唯一标识符
- `useDebugValue` 为自定义钩子提供调试信息

## 类组件

**状态管理**

- `this.setState` 更新组件状态

**生命周期方法**

- `componentDidMount` 挂载后执行
- `componentDidUpdate` 更新后执行
- `componentWillUnmount` 卸载前清理
- `shouldComponentUpdate`  控制渲染优化

## 样式处理

- **内联样式：**使用 `style={{color:'red'}}`
- **CSS Modules：**样式隔离， `import styles from ‘./style.css’`

## 表单处理

- 受控组件：通过 `state` 管理值
- 非受控组件：使用 `ref` 操作DOM
- 事件代理：统一处理多个字段的变化
- 第三方库：Formik 简化表单管理

## 性能优化

- **组件优化**
    - 使用 `React.memo` 避免不必要的重新渲染
    - 在类组件中，通过 `shouldComponentUpdate` 或 `React.PureComponent` 实现浅比较
- **代码分割**
    - 使用动态加载 `React.lazy` 和 `Suspense` 实现按需加载
- **批量更新**
    - React 18 + 默认启用
- **避免不必要的依赖**
    - 确保 `useEffect` 等 Hook 的依赖数组只包含实际需要的依赖