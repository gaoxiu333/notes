# 基于原型链的继承

# 基于原型链的继承

- [MDN 继承与原型链](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain#%E5%9F%BA%E4%BA%8E%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%9A%84%E7%BB%A7%E6%89%BF) 的笔记

### 原型链

JavaScript 只有一种结构：对象。每个对象（object）都有一个私有属性指向另一个名为**原型**（prototype）的对象。原型对象也有一个自己的原型，层层向上直到一个对象的原型为 `null`。根据定义，`null` 没有原型，并作为这个**原型链**（prototype chain）中的最后一个环节

### 原型

- **ECMAScript 标准：**符号 `someObject.[[Prototype]]` 用于标识 `someObject` 的原型
- **访问和设置：**[`Object.getPrototypeOf()`、](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf)[`Object.setPrototypeOf()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf)
- **__proto__访问器**：是非标准的，但是现在仍然被浏览器引擎实现。
- **注意：**不应与函数的 `func.prototype` 属性混淆，这一点比较难以理解，忘记请看

### 构造函数与原型

- [**prototype：**](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/prototype)通过构造函数创建的每一个实例都会自动将构造函数的 [`prototype`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/prototype) 属性作为其 `[[Prototype]]`
- **constructor：**它引用了构造函数本身，这允许我们在任何实例中访问原始构造函数。

### 性能

原型链上较深层的属性的查找时间可能会对性能产生负面影响，这在性能至关重要的代码中可能会非常明显。此外，尝试访问不存在的属性始终会遍历整个原型链。

### 其他

- 判断：使用 [`hasOwnProperty`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty) 或 [`Object.hasOwn`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwn) 方法

### 参考

- Function() 构造函数
- Function.prototype.prototype