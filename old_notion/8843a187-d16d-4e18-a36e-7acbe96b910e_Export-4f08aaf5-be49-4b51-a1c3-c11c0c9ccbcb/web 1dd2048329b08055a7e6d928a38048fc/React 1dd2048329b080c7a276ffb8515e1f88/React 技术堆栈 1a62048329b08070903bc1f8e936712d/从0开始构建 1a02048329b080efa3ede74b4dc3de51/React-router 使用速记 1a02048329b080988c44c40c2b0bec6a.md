# React-router 使用速记

前者是一个默认路由容器，适合大多数简单的应用场景，后者是允许自定义路由对象，提供更高的灵活性。推荐使用后者。

- `BrowserRouter`
- [`RouterProvider`](https://reactrouter.com/start/framework/custom)
- [基于文件的路由](https://reactrouter.com/how-to/file-route-conventions)

两种路由模式

- `Component Routes`
- `RouterProvider`

## 自定义路由

- [文档](https://reactrouter.com/start/framework/custom) Adres Book
- 示例：https://github.com/remix-run/custom-react-router-framework-example
- `@react-router/dev`
- 核心API: `createBrowserRouter` 使用
    - `path` 匹配地址
    - `lazy`  懒加载

步骤

1. 定义 `routes`
2. 定义权限

## 基础

- 基础路由配置

### 导航组件

- `Link` 普通链接
- `NavLink` 带激活状态等链接
- `Navigate` 重定向

```tsx
<Link to="/about">关于我们</Link>
// 激活时添加 "active" 类名
<NavLink to="/" className={({ isActive }) => isActive ? 'active' : ''}>
  首页
</NavLink>

function PrivateRoute({ user }) {
  return user ? <Dashboard /> : <Navigate to="/login" />;
}
```

### 常用Hook

路由参数

- `useParams`
- `useSearchParams`

导航

- `useNavigate`

其他

- `useLocation`
- `useOutlet`

### 注意事项

1. **`BrowserRouter`需包裹整个应用**，通常放在入口文件。
2. **v6不再支持 `exact` 属性** - 路径匹配更智能。
3. **`element` 属性传递React元素**（如`element={<Component />}`）。
4. 嵌套路由的路径默认**相对父路径**（无需以`/`开头）。