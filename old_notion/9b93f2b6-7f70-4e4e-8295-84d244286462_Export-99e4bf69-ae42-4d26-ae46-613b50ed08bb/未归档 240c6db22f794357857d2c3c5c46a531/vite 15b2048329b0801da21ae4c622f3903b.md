# vite

## 环境变量

**特殊变量**

- **`import.meta.env.BASE_URL` - 由config中的 `base` 决定**
- `MODE` - 当前模式
- `PROD` - 生产环境
- `DEV` - 开发环境

**TypeScript 配置**

```tsx
// vite-env.d.ts

/// <reference types="vite/client" />

interface ImportMetaEnv {
  readonly VITE_APP_TITLE: string
  // 更多环境变量...
}

interface ImportMeta {
  readonly env: ImportMetaEnv
}
```

**定义环境变量**

- `VITE_` 开头才会被识别
- `NODE_ENV=development` 这个比较特殊，用来指定环境变量

**运行时指定环境**

```bash
vite build --mode staging # or vite dev --mode staging 
```

HTML 中使用

```html
<h1>Vite is running in %MODE%</h1>
<p>Using data from %VITE_API_URL%</p>
```

TS 中使用

```tsx
import.meta.env.VITE_*
```