
## 1. 核心概念 (Core Concepts)
---
### 1.1 基础定义 (Basic Definitions)
- **提示工程**: 设计高质量提示的过程，引导LLM产生准确输出
- **提示 (Prompt)**: 提供给模型以生成响应或预测的输入
- **Token**: LLM处理文本的基本单位，可以是单词、部分单词或标点符号

### 1.2 关键原理 (Key Principles)
- **LLM原理**: 根据训练数据预测下一个token，并重复此过程生成文本
- **采样控制**: 通过temperature、top-K和top-P等参数控制文本生成的随机性和多样性

## 2. 重要配置参数 (Important Configuration Parameters)
---
### 2.1 基本参数
- **Temperature**: 控制token选择的随机程度
  - 低值(0-0.3): 确定性响应，适用于有唯一正确答案的任务
  - 中值(0.3-0.7): 平衡创造性和可预测性
  - 高值(0.7-1+): 创造性和多样化响应，适用于创意任务

- **Top-K**: 仅考虑概率最高的K个token
  - 低值: 保守和事实性输出
  - 高值: 更具创造性和多样性

- **Top-P (nucleus sampling)**: 选择累积概率不超过P的顶级token
  - 范围: 0(贪婪解码)到1(所有token)

### 2.2 建议起点配置
- **标准任务**: temperature=0.2, top-P=0.95, top-K=30
- **创意任务**: temperature=0.9, top-P=0.99, top-K=40
- **事实性任务**: temperature=0.1, top-P=0.9, top-K=20
- **数学/逻辑问题**: temperature=0

## 3. 提示技术分类 (Prompt Techniques Classification)
---
| 技术 | 特点 | 适用场景 | 示例 |
|------|------|---------|------|
| 零样本提示 | 仅提供任务描述，无示例 | 简单任务 | "分类这条评论为正面、中性或负面" |
| 单样本/少样本提示 | 提供1-5个示例 | 需要特定输出格式或复杂任务 | "示例1: 输入→输出; 示例2: 输入→输出; 你的输入:" |
| 系统提示 | 设置整体上下文和目的 | 定义模型行为规则 | "只返回JSON格式的响应" |
| 角色提示 | 分配特定角色/身份 | 需要专业知识或特定风格的输出 | "扮演旅游指南回答以下问题" |
| 思维链(CoT) | 引导模型展示推理步骤 | 数学问题、逻辑推理 | "让我们一步步思考" |
| 后退提示 | 先考虑一般问题再细化 | 复杂或创意任务 | 先提问关于主题的一般知识，再细化具体请求 |
| 自洽性(SC) | 生成多个推理路径选择最一致答案 | 提高准确性的关键任务 | 多次运行相同提示，选择最常见结果 |
| 思维树(ToT) | 允许探索多条推理路径 | 需要考虑多个可能性的复杂任务 | 通过分支决策树形式探索不同路径 |
| ReAct | 结合推理与外部工具行动 | 需要外部信息的问题解决 | 允许模型搜索信息以解决问题 |

## 4. 提示优化策略 (Prompt Optimization Strategies)
---
### 4.1 输入优化
- **提供示例**: 在提示中包含少量(3-5个)高质量、多样化示例
- **使用指令而非约束**: 告诉模型应该做什么，而非不应该做什么
- **明确输出格式**: 指定结构化输出(如JSON)以减少歧义
- **使用变量**: 在模板中使用变量使提示可重复使用
- **混合分类示例**: 在少样本分类任务中混合不同类别的示例

### 4.2 结构优化
- **设计简洁性**: 使用清晰、简洁的语言表达需求
- **使用动作动词**: 以明确的动词开始提示(分析、生成、总结等)
- **控制输出长度**: 明确指定所需响应长度
- **使用结构化格式**: 请求JSON/XML等结构化输出以增强可解析性

## 5. 常见问题与解决方案 (Common Problems & Solutions)
---
### 5.1 输出不准确
- **症状**: 模型回答不符合预期或不准确
- **解决方法**: 
  - 使用思维链(CoT)引导推理
  - 提供更多相关示例
  - 降低temperature值以减少随机性

### 5.2 幻觉问题
- **症状**: 模型生成虚构或错误信息
- **解决方法**:
  - 使用结构化输出格式(如JSON)
  - 要求模型首先考虑关键事实
  - 使用思维链提供推理过程

### 5.3 重复循环错误
- **症状**: 模型陷入循环，重复生成相同内容
- **解决方法**:
  - 调整temperature和top-k/top-p值
  - 减少最大输出token数量
  - 检查提示中是否有引起循环的指令

## 6. 代码提示技巧 (Code Prompting Techniques)
---
- 📌 **编写代码**: 明确指定编程语言、需求和预期功能
- 📌 **解释代码**: 请求逐行或按功能块解释现有代码
- 📌 **调试代码**: 提供错误信息并要求诊断和修复
- 📌 **翻译代码**: 指定源语言和目标语言进行代码转换
- 📌 **优化代码**: 请求提高性能、可读性或代码质量

## 7. 自动提示工程 (Automated Prompt Engineering)
---
- **APE流程**:
  1. 使用LLM生成多个候选提示变体
  2. 根据评估指标对候选提示评分
  3. 选择最高评分的提示或进一步优化

## 8. 记录与迭代 (Documentation & Iteration)
---
### 8.1 提示文档模板
| 字段 | 描述 |
|------|------|
| 名称 | 提示的名称和版本 |
| 目标 | 该提示的具体目标 |
| 模型 | 使用的模型名称和版本 |
| 配置参数 | Temperature、Top-K、Top-P等 |
| 提示内容 | 完整提示文本 |
| 输出 | 生成的输出 |
| 评估 | 输出质量评估(OK/NOT OK/SOMETIMES OK) |

### 8.2 迭代流程
1. 设计初始提示
2. 测试并记录结果
3. 分析输出并确定问题
4. 调整提示和参数
5. 重复测试直到达到满意结果

---
*最后更新: 2025-04-13*